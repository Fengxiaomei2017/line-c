webpackJsonp([9],{"+9YS":function(t,e){},UZ0W:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("Vmam");var a=s("yclV"),o=s("1h8J"),n=s("mTUd"),i=s("MVMM"),c=s("wSez");i.default.component(c.Field.name,c.Field),i.default.component(c.Popup.name,c.Popup),i.default.component(n.a.name,n.a);i.default.component(c.Field.name,c.Field),i.default.component(c.Popup.name,c.Popup),i.default.component(n.a.name,n.a);var l={name:"OrderConfirm",data:function(){return{popupVisiblePayWays:!1,img:"",stockGoodsId:"",stockGoodsName:"",sellerName:"",adult:0,child:0,orderNo:"",orderMoney:0,day:"",contactPerson:"",contactPersonState:"",contactPhone:"",contactPhoneState:"",buyerId:1}},methods:{goBack:function(){this.$router.push("/list")},selectedPayWay:function(t){this.payWay=t},closePopup:function(){this.popupVisiblePayWays=!1},checkPhoneNum:function(t){return/^(1[0-9][0-9]|14[57]|15[012356789]|17[0678]|18[0-9])\d{8}$/.test(t)},createOrder:function(){var t=this;this.contactPersonState=""===this.contactPerson?"error":"success",this.contactPhoneState=this.checkPhoneNum(this.contactPhone)?"success":"error","error"!==this.contactPersonState&&"error"!==this.contactPhoneState&&(this.$store.state.lineUser.id?Object(o.c)(this.stockGoodsId,this.adult,this.child,this.orderMoney,this.$store.state.lineUser.id,this.contactPerson,this.contactPhone).then(function(e){1===e.data.state?(t.orderNo=e.data.data.orderNo,t.popupVisiblePayWays=!0):Object(c.MessageBox)("提示",e.data.message)}):this.$router.push({name:"Login"}))},_closeOrder:function(){this.popupVisiblePayWays=!1},payThisOrder:function(){Object(o.n)(this.orderNo).then(function(t){t.data.state,Object(c.MessageBox)("提示",t.data.message)})}},created:function(){var t=Object(a.c)("BOOK-PRODUCT");t&&(t=JSON.parse(t));var e=this.$route.query;this.stockGoodsId=e.stockGoodsId,this.stockGoodsName=e.stockGoodsName,this.sellerName=e.sellerName,this.adult=e.adult,this.child=e.child,this.orderMoney=e.orderMoney,this.day=e.day,this.productId=t.productId,this.productName=t.productName,this.img=t.img}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header",{staticClass:"mint-header is-fixed"},[s("div",{staticClass:"mint-header-button is-left"},[s("div",{},[s("button",{staticClass:"mint-button mint-button--default mint-button--normal",on:{click:t.goBack}},[t._m(0),t._v(" "),s("label",{staticClass:"mint-button-text"})])])]),t._v(" "),s("h1",{staticClass:"mint-header-title"},[t._v("确认订单")]),t._v(" "),s("div",{staticClass:"mint-header-button is-right"})]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-cell"},[s("div",{staticClass:"cell-title"},[t._v("\n        预订信息\n      ")]),t._v(" "),s("div",{staticClass:"cell-body"},[s("img",{staticClass:"w-40",attrs:{src:t.img}}),t._v(" "),s("div",{staticClass:"w-60"},[s("div",{staticClass:"product-name"},[t._v(t._s(t.productName))]),t._v(" "),s("div",{staticClass:"seller-name font-gray"},[t._v(t._s(t.sellerName))])])]),t._v(" "),s("div",{staticClass:"order-subtitle"},[s("span",{staticClass:"subtitle-item"},[t._v("出行方案：\n          "),s("span",{staticClass:"font-gray subtitle-content"},[t._v(t._s(t.stockGoodsName))])]),t._v(" "),s("span",{staticClass:"subtitle-item"},[t._v("出行时间：\n          "),s("span",{staticClass:"font-gray subtitle-content"},[t._v(t._s(t.day))])]),t._v(" "),s("span",{staticClass:"subtitle-item"},[t._v("出行人数：\n          "),s("span",{staticClass:"font-gray subtitle-content"},[t._v(t._s(t.adult)+"成人 "+t._s(t.child)+"儿童")])])])]),t._v(" "),s("div",{staticClass:"content-cell"},[s("div",{staticClass:"cell-title"},[t._v("联系人")]),t._v(" "),s("mt-field",{staticClass:"contactPerson",attrs:{label:"姓名:",state:t.contactPersonState,placeholder:"请输入真实姓名"},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}}),t._v(" "),s("mt-field",{attrs:{label:"手机号:",placeholder:"用于紧急联系和接受行程信息",state:t.contactPhoneState,type:"tel"},model:{value:t.contactPhone,callback:function(e){t.contactPhone=e},expression:"contactPhone"}})],1),t._v(" "),s("div",{staticClass:"black-bottom"})]),t._v(" "),s("div",{staticClass:"fixed-bottom"},[s("div",{staticClass:"bg-white yellow total"},[t._v("合计：￥\n      "),s("span",{staticClass:"font-weight-bold price-num"},[t._v(t._s(t.orderMoney))])]),t._v(" "),s("div",{staticClass:"next-step",on:{click:t.createOrder}},[t._v("提交订单")])]),t._v(" "),s("mt-popup",{staticClass:"popup-pay",attrs:{position:"bottom"},model:{value:t.popupVisiblePayWays,callback:function(e){t.popupVisiblePayWays=e},expression:"popupVisiblePayWays"}},[s("PayCom",{attrs:{orderNo:t.orderNo,orderMoney:t.orderMoney},on:{watchClose:t._closeOrder}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"mint-button-icon"},[e("i",{staticClass:"mintui mintui-back"})])}]};var d=s("Z0/y")(l,r,!1,function(t){s("+9YS")},"data-v-610b446a",null);e.default=d.exports}});
//# sourceMappingURL=9.8a9f17214424136195b5.js.map