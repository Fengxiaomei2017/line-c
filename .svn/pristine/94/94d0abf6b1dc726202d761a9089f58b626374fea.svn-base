{"version":3,"sources":["webpack:///src/pages/list.vue","webpack:///./src/pages/list.vue?3bfb","webpack:///./src/pages/list.vue","webpack:///src/components/tab.vue","webpack:///./src/components/tab.vue?47ce","webpack:///./src/components/tab.vue"],"names":["vue_esm","component","tab","name","list","getRoadListData","handleScroll","childOffsetT","scrollTop","offsetTop","pageSize","id","type","cellKey","_this","this","cellSelectedDays","cellSelectedWay","cellSelectedTheme","DAYS","MIN_PRICE","IMAGE","START_ADDRESS","PRODUCT_ID","PRODUCT_NAME","roadList","_this2","total","d","NAME","ID","pages_list","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","goBack","_v","_m","attrs","tab-list","tablist","selected","dropdown","selectedTab","showFilter","class","d-none","isShowFilter","directives","rawName","value","expression","btn-yellow","$event","refreshList","_l","item","_s","infinite-scroll-disabled","infinite-scroll-distance","road","key","to","params","days","describe","startingPoint","price","hidFilter","staticRenderFns","data-v-c1010688","href","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Array","String","tabText","components_tab","chooseTab","tabID","dropdown-toggle","active"],"mappings":"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","file":"static/js/3.0fd844cf8c5d8370964e.js","sourcesContent":["<template>\n  <div>\n    <!--<mt-header fixed title=\"线路列表\">-->\n    <!--<router-link to=\"/\" slot=\"left\">-->\n    <!--<mt-button icon=\"back\"></mt-button>-->\n    <!--</router-link>-->\n    <!--<router-link to=\"/my-orders\" slot=\"right\">-->\n    <!--<i class=\"iconfont icon-dingdan\"></i>-->\n    <!--</router-link>-->\n    <!--</mt-header>-->\n    <header class=\"mint-header is-fixed\">\n      <div class=\"mint-header-button is-left\">\n        <div class=\"\">\n          <button class=\"mint-button mint-button--default mint-button--normal\">\n            <span @click=\"goBack\" class=\"mint-button-icon\"><i class=\"mintui mintui-back\"></i></span>\n            <label class=\"mint-button-text\"></label>\n          </button>\n        </div>\n      </div>\n      <h1 class=\"mint-header-title\">线路列表</h1>\n      <div class=\"mint-header-button is-right\">\n        <a data-v-c1010688=\"\" href=\"#/my-orders\" class=\"\"><i data-v-c1010688=\"\" class=\"iconfont icon-dingdan\"></i></a>\n      </div>\n    </header>\n    <Tab :tab-list=\"tablist\" :selected=\"selected\" :dropdown=\"true\" v-on:selectedTab=\"showFilter\"></Tab>\n    <mt-tab-container :class=\"{'d-none':!isShowFilter}\">\n      <mt-tab-container-item id=\"theme\" v-show=\"selected==='theme'\">\n        <div class=\"filter\">\n          <button type=\"button\" @click=\"refreshList('themeList','all')\" class=\"btn btn-sm\"\n                  :class=\"{'btn-yellow':cellSelectedTheme==='all'}\">全部\n          </button>\n          <button type=\"button\" v-for=\"item in themeList\" @click=\"refreshList('themeList',item.cellKey)\"\n                  class=\"btn btn-sm\" :class=\"{'btn-yellow':cellSelectedTheme===item.cellKey}\">{{item.name}}\n          </button>\n        </div>\n\n      </mt-tab-container-item>\n      <mt-tab-container-item id=\"days\" v-show=\"selected==='days'\">\n        <div class=\"filter\">\n          <button type=\"button\" @click=\"refreshList('daysList','all')\" class=\"btn btn-sm\"\n                  :class=\"{'btn-yellow':cellSelectedDays==='all'}\">全部\n          </button>\n          <button type=\"button\"\n                  v-for=\"item in daysList\"@click=\"refreshList('daysList',item.cellKey)\"\n                  class=\"btn btn-sm\" :class=\"{'btn-yellow':cellSelectedDays===item.cellKey}\">{{item.name}}\n          </button>\n        </div>\n      </mt-tab-container-item>\n\n      <mt-tab-container-item id=\"way\" v-show=\"selected==='way'\">\n        <div class=\"filter\">\n          <button type=\"button\" @click=\"refreshList('wayList','all')\" class=\"btn btn-sm\"\n                  :class=\"{'btn-yellow':cellSelectedWay==='all'}\">全部\n          </button>\n          <button type=\"button\" v-for=\"item in wayList\" @click=\"refreshList('wayList',item.cellKey)\" class=\"btn btn-sm\"\n                  :class=\"{'btn-yellow':cellSelectedWay===item.cellKey}\">{{item.name}}\n          </button>\n        </div>\n      </mt-tab-container-item>\n      <mt-tab-container-item id=\"sort\" v-show=\"selected==='sort'\">\n        <div class=\"filter\">\n          <button type=\"button\" v-for=\"item in sortList\" @click=\"refreshList('sortList',item.cellKey)\"\n                  class=\"btn btn-sm\" :class=\"{'btn-yellow':cellSelectedWay===item.cellKey}\">{{item.name}}\n          </button>\n        </div>\n      </mt-tab-container-item>\n    </mt-tab-container>\n\n\n    <div class=\"content\" v-infinite-scroll=\"getMoreBypage\" infinite-scroll-disabled=\"loading\"\n         infinite-scroll-distance=\"10\"\n         id=\"dayListJs\">\n      <router-link\n        class=\"card img-fluid singleDayJs\"\n        :key=\"road.id\"\n        v-for=\"road in roadList\"\n        :to=\"{name:'Details',params:{id:road.id}}\">\n\n        <img class=\"card-img-top\" v-lazy=\"road.pic\">\n        <div class=\"card-title font-18\">\n          <i class=\"iconfont icon-shuqianbookmark11\"></i>\n          <div class=\"white font-16 day-num\">{{road.days}}天</div>\n        </div>\n        <div class=\"card-img-overlay\">\n          <div class=\"black-overlay\">\n            <p class=\"card-text\">{{road.describe}}</p>\n            <div class=\"startingPoint small strong\">[{{road.startingPoint}}出发]</div>\n            <div class=\"price yellow\"><span>￥</span>\n              <b class=\"price-num\">{{road.price}}</b><span> 起</span>\n            </div>\n          </div>\n        </div>\n      </router-link>\n    </div>\n    <div class=\"black-over\" :class=\"{'d-none':!isShowFilter}\" @click=\"hidFilter\"></div>\n  </div>\n</template>\n\n<script>\n  import {setStore, getStore} from '@/config/mUtils'\n  import avatar from '@/assets/timg.jpg'\n  import Tab from '@/components/tab'\n  import {getRoadList, getRoadListAndParam} from '@/api/getData.js'\n  import Vue from 'vue'\n  import {InfiniteScroll} from 'mint-ui'\n\n\n  Vue.component(Tab.name, Tab);\n\n  export default {\n    name: 'List',\n    data () {\n      return {\n        selected: '',\n        loading: false,\n        cellSelectedTheme: 'all',//选中过滤子项\n        cellSelectedDays: 'all',//选中过滤子项\n        cellSelectedWay: 'all',//选中过滤子项\n        cellSelectedSort: 'all',//选中过滤子项\n        isShowFilter: false,\n        pageNum: 1,\n        pageSize: 10,\n        total: 0,\n        // days: '',\n        // type:'',\n        // theme:'',\n        orderBy: '',//根据什么过滤\n        orderDesc: '',\n        tablist: [{\n          tabID: 'theme',\n          tabText: '线路主题',\n\n        }, {\n          tabID: 'days',\n          tabText: '游玩天数',\n\n        }, {\n          tabID: 'way',\n          tabText: '出行方式',\n\n        }, {\n          tabID: 'sort',\n          tabText: '排序'\n        }],\n        themeList: [{\n          name: '全部', cellKey: 'all'\n        }, {\n          name: '主题2', cellKey: '主题2'\n        }, {\n          name: '主题3', cellKey: '主题3'\n        }],\n        daysList: [{\n          name: '全部', cellKey: 'all'\n        }, {\n          name: '1天', cellKey: 'day-1'\n        }, {\n          name: '2-3天', cellKey: 'day-2-3'\n        }, {\n          name: '4-5天', cellKey: 'day-4-5'\n        }, {\n          name: '5-10天', cellKey: 'day-5-10'\n        }, {\n          name: '10-15天', cellKey: 'day-10-15'\n        }],\n        wayList: [{\n          name: '全部', cellKey: 'all'\n        }, {\n          name: '包车', cellKey: 'chartered'\n        }, {\n          name: '拼车', cellKey: 'sharing'\n        }],\n        sortList: [{\n          name: '综合排序', cellKey: 'all'\n        }, {\n          name: '受欢迎程度', cellKey: 'views-desc'\n        }, {\n          name: '价格最高', cellKey: 'price-desc'\n        }, {\n          name: '价格最低', cellKey: 'price-asc'\n        },\n          // {\n          //   name: '评论最多', cellKey: 'comments-desc'\n          // },\n          {\n            name: '评分最高', cellKey: 'comments-desc'\n          },\n          // {\n          //   name: '销量最多', cellKey: 'sharing'\n          // }\n        ],\n        roadList: []\n      }\n    },\n    created () {\n      //pageNum, pageSize,days,type,theme,orderBy,orderDesc\n      this.getRoadListData()\n      // getRoadListAndParam(this.pageNum, this.pageSize).then(resList => {\n      //   // debugger;\n      //   let res = resList[0]\n      //   let fliters = resList[1]\n      //   if (res && res.data.state === 1 && res.data.data.list) {\n      //     // this.roadList = res.data.data.list;\n      //     this.total = res.data.data.total\n      //     this.roadList = res.data.data.list.map(d => ({\n      //       days: d.DAYS,\n      //       price: d.MIN_PRICE,\n      //       pic: d.IMAGE,\n      //       startingPoint: d.START_ADDRESS,\n      //       id: d.PRODUCT_ID,\n      //       describe: d.PRODUCT_NAME\n      //     }))\n      //     console.log(this.roadList)\n      //   }\n      //   if (fliters && fliters.data.state === 1) {\n      //     this.daysList = fliters.data.data.daysList.map((d, index) => ({\n      //       name: d,\n      //       cellKey: index + 1\n      //     }))\n      //     this.themeList = fliters.data.data.themeList.map((d, index) => ({\n      //       name: d,\n      //       cellKey: index + 1\n      //     }))\n      //     this.wayList = fliters.data.data.typeList.map((d) => ({\n      //       name: d.NAME,\n      //       cellKey: d.ID\n      //     }))\n      //   }\n      // })\n    },\n    mounted () {\n      document.addEventListener('touchstart', this.handleScroll)\n    },\n    destroyed () {\n      document.removeEventListener('touchstart', this.handleScroll)\n    },\n    methods: {\n      goBack () {\n        this.$router.push('/')\n      },\n      handleScroll () {\n        // var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\n        let dayNum, parentScrollT, childOffsetT\n        if (this.roadList.length > 0) {\n          dayNum = Math.floor(this.roadList.length / 2)\n          parentScrollT = document.querySelector('#dayListJs').scrollTop\n          childOffsetT = document.getElementsByClassName('singleDayJs')[dayNum].offsetTop\n        }\n        // console.log('父元素：' + parentScrollT)\n        // console.log('子元素：' + childOffsetT)\n        if (parentScrollT > childOffsetT) {\n          this.pageSize += this.pageSize\n          this.getRoadListData()\n        }\n      },\n      getMoreBypage () {\n        if (this.total !== 0 && this.roadList.length < this.total) {\n          this.loading = true;\n          this.pageNum = this.pageNum + 1\n          this.getData(true)\n        }\n        // setTimeout(() => {\n        //   let last = this.list[this.list.length - 1];\n        //   for (let i = 1; i <= 10; i++) {\n        //     this.list.push(last + i);\n        //   }\n        //   this.loading = false;\n        // }, 2500);\n\n      },\n      showFilter (id) {\n        this.isShowFilter = true\n        this.selected = id\n      },\n      hidFilter () {\n        this.isShowFilter = false\n        this.selected = ''\n      },\n      refreshList (type, cellKey) {\n        switch (type) {\n          case 'sortList':\n            if (cellKey === 'all') {\n              this.orderBy = ''\n              this.orderDesc = ''\n            } else {\n              this.orderBy = cellKey.split('-')[0]\n              this.orderDesc = cellKey.split('-')[1]\n            }\n            this.cellSelectedSort = cellKey\n            break\n          case 'themeList':\n            if (cellKey === 'all') {\n              this.cellSelectedTheme = ''\n            } else {\n              this.cellSelectedTheme = this.themeList[cellKey].name\n            }\n            break\n          case 'daysList':\n            if (cellKey === 'all') {\n              this.cellSelectedDays = ''\n            } else {\n              this.cellSelectedDays = cellKey\n            }\n            break\n          case 'wayList':\n            if (cellKey === 'all') {\n              this.cellSelectedWay = ''\n            } else {\n              this.cellSelectedWay = cellKey\n            }\n            break\n        }\n        this.pageNum = 1\n        this.pageSize = 20\n        this.isShowFilter = false\n        this.getData(false)\n      },\n      getData (isPush) {\n        let days = this.cellSelectedDays === 'all' ? '' : this.cellSelectedDays,\n          type = this.cellSelectedWay === 'all' ? '' : this.cellSelectedWay,\n          theme = this.cellSelectedTheme === 'all' ? '' : this.cellSelectedTheme\n        // console.log('页数：' + this.pageNum)\n        // console.log('天数：' + this.pageSize)\n        // console.log('游玩方式：' + days)\n        // console.log('出行方式：' + type)\n        // console.log('线路主题：' + theme)\n        // console.log('排序：' + this.orderBy + '-' + this.orderDesc)\n        getRoadList(this.pageNum, this.pageSize, days, type, theme, this.orderBy, this.orderDesc).then(res => {\n          if (res && res.data.state === 1 && res.data.data.list) {\n            // this.roadList = res.data.data.list;\n            let roadList = res.data.data.list.map(d => ({\n              days: d.DAYS,\n              price: d.MIN_PRICE,\n              pic: d.IMAGE,\n              startingPoint: d.START_ADDRESS,\n              id: d.PRODUCT_ID,\n              describe: d.PRODUCT_NAME\n            }))\n\n            this.roadList = isPush ? this.roadList.concat(roadList) : roadList\n            // console.log(this.roadList)\n            this.loading = false\n          }\n        })\n      },\n      getRoadListData () {\n        getRoadListAndParam(this.pageNum, this.pageSize).then(resList => {\n          // debugger;\n          let res = resList[0]\n          let fliters = resList[1]\n          if (res && res.data.state === 1 && res.data.data.list) {\n            // this.roadList = res.data.data.list;\n            this.total = res.data.data.total\n            this.roadList = res.data.data.list.map(d => ({\n              days: d.DAYS,\n              price: d.MIN_PRICE,\n              pic: d.IMAGE,\n              startingPoint: d.START_ADDRESS,\n              id: d.PRODUCT_ID,\n              describe: d.PRODUCT_NAME\n            }))\n            // console.log(this.roadList)\n          }\n          if (fliters && fliters.data.state === 1) {\n            this.daysList = fliters.data.data.daysList.map((d, index) => ({\n              name: d,\n              cellKey: index + 1\n            }))\n            this.themeList = fliters.data.data.themeList.map((d, index) => ({\n              name: d,\n              cellKey: index + 1\n            }))\n            this.wayList = fliters.data.data.typeList.map((d) => ({\n              name: d.NAME,\n              cellKey: d.ID\n            }))\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" type=\"text/less\" rel=\"stylesheet/less\" scoped>\n\n  @import \"../style/main.less\";\n\n  .mint-tab-container {\n    margin-top: 5rem;\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    z-index: 1;\n    background: @white;\n  }\n\n  .filter {\n    /*min-height: 130px;*/\n    padding: 0.5rem;\n    display: flex;\n    flex-wrap: wrap;\n    .btn {\n      /*flex-basis: 0;*/\n      flex-grow: 0;\n      text-align: center;\n      margin: 0.4rem;\n      .px2rem(margin-top, 4);\n      .px2rem(margin-bottom, 4);\n      .px2rem(flex-basis, 75);\n      .px2rem(font-size, 12);\n\n      /*font-size: @font-12;*/\n    }\n  }\n\n  .content {\n    margin-top: 2.5rem;\n  }\n\n  /*.show-tab{*/\n  /*margin-top: 5rem;*/\n  /*}*/\n\n  .card {\n    .px2rem(padding, 8);\n    border: 0;\n    background: #eee;\n    border-radius: 0;\n    color: #fff;\n\n    .card-img-top {\n      .px2rem(border-radius, 5);\n      .px2rem(height, 188);\n      object-fit: cover;\n    }\n\n    .card-text {\n      .px2rem(line-height, 20);\n      .px2rem(margin-bottom, 5);\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 2;\n      overflow: hidden;\n    }\n\n    .card-title {\n      position: absolute;\n      .px2rem(left, 8);\n      .px2rem(top, 15);\n      /*border:1px solid red;*/\n      /*background: @orange;*/\n      /*padding: 5px;*/\n\n      .iconfont:before {\n        color: #eb4710;\n        /*.px2rem(font-size, 80);*/\n        font-size: 5.4rem;\n        margin-left: -1rem;\n        transform: rotate(-90deg);\n        margin-top: -2rem;\n        display: inline-block;\n      }\n\n      .day-num {\n        z-index: 0;\n        position: absolute;\n        top: 1.3rem;\n        left: 0.5rem;\n      }\n    }\n\n    .black-overlay {\n      background-color: rgba(0, 0, 0, 0.3);\n      position: absolute;\n      /*top: 65%;*/\n      right: 0.5rem;\n      bottom: 0.5rem;\n      left: 0.5rem;\n      .px2rem(padding, 8);\n      .px2rem(height, 77);\n      .px2rem(border-bottom-right-radius, 5);\n      .px2rem(border-bottom-left-radius, 5);\n\n      .price {\n        position: absolute;\n        right: 1rem;\n        bottom: 0rem;\n        .price-num {\n          .px2rem(font-size, 25);\n        }\n      }\n    }\n\n    .startingPoint {\n      position: absolute;\n      bottom: 0.25rem;\n    }\n\n  }\n\n  .black-over {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.3);\n  }\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header',{staticClass:\"mint-header is-fixed\"},[_c('div',{staticClass:\"mint-header-button is-left\"},[_c('div',{},[_c('button',{staticClass:\"mint-button mint-button--default mint-button--normal\"},[_c('span',{staticClass:\"mint-button-icon\",on:{\"click\":_vm.goBack}},[_c('i',{staticClass:\"mintui mintui-back\"})]),_vm._v(\" \"),_c('label',{staticClass:\"mint-button-text\"})])])]),_vm._v(\" \"),_c('h1',{staticClass:\"mint-header-title\"},[_vm._v(\"线路列表\")]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('Tab',{attrs:{\"tab-list\":_vm.tablist,\"selected\":_vm.selected,\"dropdown\":true},on:{\"selectedTab\":_vm.showFilter}}),_vm._v(\" \"),_c('mt-tab-container',{class:{'d-none':!_vm.isShowFilter}},[_c('mt-tab-container-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected==='theme'),expression:\"selected==='theme'\"}],attrs:{\"id\":\"theme\"}},[_c('div',{staticClass:\"filter\"},[_c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedTheme==='all'},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('themeList','all')}}},[_vm._v(\"全部\\n        \")]),_vm._v(\" \"),_vm._l((_vm.themeList),function(item){return _c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedTheme===item.cellKey},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('themeList',item.cellKey)}}},[_vm._v(_vm._s(item.name)+\"\\n        \")])})],2)]),_vm._v(\" \"),_c('mt-tab-container-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected==='days'),expression:\"selected==='days'\"}],attrs:{\"id\":\"days\"}},[_c('div',{staticClass:\"filter\"},[_c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedDays==='all'},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('daysList','all')}}},[_vm._v(\"全部\\n        \")]),_vm._v(\" \"),_vm._l((_vm.daysList),function(item){return _c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedDays===item.cellKey},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('daysList',item.cellKey)}}},[_vm._v(_vm._s(item.name)+\"\\n        \")])})],2)]),_vm._v(\" \"),_c('mt-tab-container-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected==='way'),expression:\"selected==='way'\"}],attrs:{\"id\":\"way\"}},[_c('div',{staticClass:\"filter\"},[_c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedWay==='all'},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('wayList','all')}}},[_vm._v(\"全部\\n        \")]),_vm._v(\" \"),_vm._l((_vm.wayList),function(item){return _c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedWay===item.cellKey},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('wayList',item.cellKey)}}},[_vm._v(_vm._s(item.name)+\"\\n        \")])})],2)]),_vm._v(\" \"),_c('mt-tab-container-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected==='sort'),expression:\"selected==='sort'\"}],attrs:{\"id\":\"sort\"}},[_c('div',{staticClass:\"filter\"},_vm._l((_vm.sortList),function(item){return _c('button',{staticClass:\"btn btn-sm\",class:{'btn-yellow':_vm.cellSelectedWay===item.cellKey},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.refreshList('sortList',item.cellKey)}}},[_vm._v(_vm._s(item.name)+\"\\n        \")])}))])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.getMoreBypage),expression:\"getMoreBypage\"}],staticClass:\"content\",attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"10\",\"id\":\"dayListJs\"}},_vm._l((_vm.roadList),function(road){return _c('router-link',{key:road.id,staticClass:\"card img-fluid singleDayJs\",attrs:{\"to\":{name:'Details',params:{id:road.id}}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(road.pic),expression:\"road.pic\"}],staticClass:\"card-img-top\"}),_vm._v(\" \"),_c('div',{staticClass:\"card-title font-18\"},[_c('i',{staticClass:\"iconfont icon-shuqianbookmark11\"}),_vm._v(\" \"),_c('div',{staticClass:\"white font-16 day-num\"},[_vm._v(_vm._s(road.days)+\"天\")])]),_vm._v(\" \"),_c('div',{staticClass:\"card-img-overlay\"},[_c('div',{staticClass:\"black-overlay\"},[_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(road.describe))]),_vm._v(\" \"),_c('div',{staticClass:\"startingPoint small strong\"},[_vm._v(\"[\"+_vm._s(road.startingPoint)+\"出发]\")]),_vm._v(\" \"),_c('div',{staticClass:\"price yellow\"},[_c('span',[_vm._v(\"￥\")]),_vm._v(\" \"),_c('b',{staticClass:\"price-num\"},[_vm._v(_vm._s(road.price))]),_c('span',[_vm._v(\" 起\")])])])])])})),_vm._v(\" \"),_c('div',{staticClass:\"black-over\",class:{'d-none':!_vm.isShowFilter},on:{\"click\":_vm.hidFilter}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mint-header-button is-right\"},[_c('a',{attrs:{\"data-v-c1010688\":\"\",\"href\":\"#/my-orders\"}},[_c('i',{staticClass:\"iconfont icon-dingdan\",attrs:{\"data-v-c1010688\":\"\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-17794756\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17794756\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17794756\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17794756\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/list.vue\n// module id = null\n// module chunks = ","<template>\n\n  <ul class=\"nav nav-justified nav-tab\">\n    <li class=\"nav-item\" v-for=\"item in tabList\" @click=\"chooseTab(item.tabID,item.tabText)\">\n      <a class=\"nav-link\" :class=\"{\n        'dropdown-toggle': dropdown,\n        'active': selected==item.tabID\n         }\"\n         href=\"javascript:void(0)\">{{item.tabText}}</a>\n    </li>\n  </ul>\n\n</template>\n\n<script>\n\n  export default {\n    name: 'Tab',\n    props: {\n      tabList: {\n        type: Array\n      },\n      selected: {\n        type: String\n      },\n      dropdown:{\n        default:false\n      }\n    },\n    data(){\n      return{\n        selectedTab:this.selected\n      }\n    },\n    methods: {\n     chooseTab (id,tabText) {\n       // this.selectedTab=id;\n       this.$emit('selectedTab',id,tabText);\n     }\n   }\n  }\n\n\n</script>\n\n<style lang=\"less\" type=\"text/less\" rel=\"stylesheet/less\" scoped>\n\n  @import \"../style/main.less\";\n  @border-w:0.16rem;\n  .nav-tab{\n    .px2rem(height,40);\n    .px2rem(top,40);\n    position: fixed;\n    background-color: @white;\n    z-index: 1;\n     width:100%;\n    .nav-link{\n      /*margin-bottom: -@border-w;*/\n      padding: 0.52rem 0;\n      font-size: @font-14;\n      border-bottom: @border-w solid @level;\n      color:@font-dark;\n      /*border-radius: 2px;*/\n    }\n    .active{\n      border-bottom: @border-w solid @blue;\n      color: @blue;\n    }\n  .dropdown-toggle::after {\n    margin-left: 0.5em;\n  }\n  }\n\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/tab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav nav-justified nav-tab\"},_vm._l((_vm.tabList),function(item){return _c('li',{staticClass:\"nav-item\",on:{\"click\":function($event){_vm.chooseTab(item.tabID,item.tabText)}}},[_c('a',{staticClass:\"nav-link\",class:{\n      'dropdown-toggle': _vm.dropdown,\n      'active': _vm.selected==item.tabID\n       },attrs:{\"href\":\"javascript:void(0)\"}},[_vm._v(_vm._s(item.tabText))])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4edfece4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/tab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4edfece4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./tab.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4edfece4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4edfece4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tab.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}