webpackJsonp([9],{UZ0W:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("Vmam");var a=e("yclV"),o=e("1h8J"),i=e("mTUd"),c=e("MVMM"),n=e("wSez");c.default.component(n.Field.name,n.Field),c.default.component(n.Popup.name,n.Popup),c.default.component(i.a.name,i.a);var r={name:"OrderConfirm",data:function(){return{popupVisiblePayWays:!1,img:"",stockGoodsId:"",stockGoodsName:"",adult:0,child:0,orderNo:"",orderMoney:0,day:"",contactPerson:"",contactPersonState:"",contactPhone:"",contactPhoneState:"",buyerId:1}},methods:{goBack:function(){this.$router.push("/list")},selectedPayWay:function(t){this.payWay=t},closePopup:function(){this.popupVisiblePayWays=!1},checkPhoneNum:function(t){return/^(1[0-9][0-9]|14[57]|15[012356789]|17[0678]|18[0-9])\d{8}$/.test(t)},createOrder:function(){var t=this;this.contactPersonState=""===this.contactPerson?"error":"success",this.contactPhoneState=this.checkPhoneNum(this.contactPhone)?"success":"error","error"!==this.contactPersonState&&"error"!==this.contactPhoneState&&(this.$store.state.lineUser.id?Object(o.b)(this.stockGoodsId,this.adult,this.child,this.orderMoney,this.$store.state.lineUser.id,this.contactPerson,this.contactPhone).then(function(s){1===s.data.state?(t.orderNo=s.data.data.orderNo,t.popupVisiblePayWays=!0):t.MessageBox("错误",s.data.message)}):this.$router.push({name:"Login"}))},_closeOrder:function(){this.popupVisiblePayWays=!1},payThisOrder:function(){var t=this;Object(o.l)(this.orderNo).then(function(s){1===s.data.state?t.MessageBox("提示",s.data.message):t.MessageBox("错误",s.data.message)})}},created:function(){var t=Object(a.c)("BOOK-PRODUCT");t&&(t=JSON.parse(t));var s=this.$route.query;this.stockGoodsId=s.stockGoodsId,this.stockGoodsName=s.stockGoodsName,this.adult=s.adult,this.child=s.child,this.orderMoney=s.orderMoney,this.day=s.day,this.productId=t.productId,this.productName=t.productName,this.img=t.img}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("header",{staticClass:"mint-header is-fixed"},[e("div",{staticClass:"mint-header-button is-left"},[e("div",{},[e("button",{staticClass:"mint-button mint-button--default mint-button--normal",on:{click:t.goBack}},[t._m(0),t._v(" "),e("label",{staticClass:"mint-button-text"})])])]),t._v(" "),e("h1",{staticClass:"mint-header-title"},[t._v("确认订单")]),t._v(" "),e("div",{staticClass:"mint-header-button is-right"})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content-cell"},[e("div",{staticClass:"cell-title"},[t._v("\n        预订信息\n      ")]),t._v(" "),e("div",{staticClass:"cell-body"},[e("div",{staticClass:"w-40"},[e("div",{staticClass:"hotelImg",style:{backgroundImage:"url("+t.img+")"}})]),t._v(" "),e("div",{staticClass:"w-60"},[e("div",[t._v("\n            出行时间"+t._s(t.day)+"\n          ")]),t._v(" "),e("div",[t._v("\n            "+t._s(t.adult)+"成人 "+t._s(t.child)+"儿童\n          ")]),t._v(" "),e("div",[t._v(t._s(t.stockGoodsName))]),t._v(" "),e("div",{staticClass:"price"},[e("span",[t._v("订单金额:")]),t._v(" "),e("span",{staticClass:"font-16 yellow"},[t._v("￥")]),t._v(" "),e("b",{staticClass:"price-num"},[t._v(t._s(t.orderMoney))])])])]),t._v(" "),e("div",{staticClass:"text-right"})]),t._v(" "),e("div",{staticClass:"content-cell"},[e("div",{staticClass:"cell-title"},[t._v("联系人")]),t._v(" "),e("mt-field",{staticClass:"contactPerson",attrs:{label:"姓名:",state:t.contactPersonState,placeholder:"请输入真实姓名"},model:{value:t.contactPerson,callback:function(s){t.contactPerson=s},expression:"contactPerson"}}),t._v(" "),e("mt-field",{attrs:{label:"手机号:",placeholder:"用于紧急联系和接受行程信息",state:t.contactPhoneState,type:"tel"},model:{value:t.contactPhone,callback:function(s){t.contactPhone=s},expression:"contactPhone"}})],1),t._v(" "),e("div",{staticClass:"black-bottom"})]),t._v(" "),e("div",{staticClass:"fixed-bottom"},[e("div",{staticClass:"bg-white total ask"},[t._v("合计:"+t._s(t.orderMoney))]),t._v(" "),e("div",{staticClass:"next-step",on:{click:t.createOrder}},[t._v("提交订单")])]),t._v(" "),e("mt-popup",{staticClass:"popup-pay",attrs:{position:"bottom"},model:{value:t.popupVisiblePayWays,callback:function(s){t.popupVisiblePayWays=s},expression:"popupVisiblePayWays"}},[e("PayCom",{attrs:{orderNo:t.orderNo,orderMoney:t.orderMoney},on:{watchClose:t._closeOrder}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"mint-button-icon"},[s("i",{staticClass:"mintui mintui-back"})])}]};var l=e("Z0/y")(r,d,!1,function(t){e("p9+8")},"data-v-82218c48",null);s.default=l.exports},"p9+8":function(t,s){}});
//# sourceMappingURL=9.8d1b72047d0159a196ef.js.map