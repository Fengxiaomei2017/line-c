webpackJsonp([11],{Luci:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("4YfN"),s=o.n(a),i=o("Wcgy"),n=o("1h8J"),r=o("yclV"),u=o("9rMa"),h=(i.a,s()({},Object(u.b)(["SET_USER","SET_TOKEN"]),{tab:function(t){this.flag=t},errorMsg:function(t){var e=this;this.msg=t.text,setTimeout(function(){e.msg=""},1e3)},_login:function(){var t=this;this.phoneNum?isNaN(this.phoneNum)?this.$vux.toast.show({text:"请输入正确的手机号",type:"warn",position:"bottom"}):11!==this.phoneNum.toString().length?this.$vux.toast.show({text:"请输入11位手机号",type:"warn",position:"bottom"}):this.flag?Object(n.l)(this.phoneNum,this.code).then(function(e){if(1===e.data.state){var o=e.data.data;o&&t.SET_USER(o),e.data.token&&t.SET_TOKEN(e.data.token),t.path?t.$router.push(t.path):t.$router.push("/home")}else t.msg=e.data.message,setTimeout(function(){t.msg=""},6e4)}):this.validateCode?Object(n.m)(this.phoneNum,this.validateCode).then(function(e){e.data.data;if(1===e.data.state){var o=e.data.data;o&&t.SET_USER(o),e.data.token&&t.SET_TOKEN(e.data.token),t.path?t.$router.push(t.path):t.$router.push("/home")}else t.msg=e.data.message,setTimeout(function(){t.msg=""},1e3)}):this.$vux.toast.show({text:"请输入验证码",type:"warn",position:"bottom"}):this.$vux.toast.show({text:"手机号不能为空",type:"warn",position:"bottom"})},register:function(){this.$router.push("/register")},rePassword:function(){this.$router.push("/rePassword")},_wxLogin:function(){var t=this,e=Object(r.d)(window.location.href).code||"";e&&Object(n.v)(e).then(function(e){var o=e.data.data;if(1===e.data.state){if(o.info){var a=o.info;t.SET_USER(a)}o.token&&t.SET_TOKEN(o.token),t.path?t.$router.push(t.path):t.$router.push("/home")}else t.$router.push("/login")})}}),{data:function(){return{flag:!0,phoneNum:"",code:"",validateCode:"",msg:"",path:""}},components:{codeItem:i.a},methods:s()({},Object(u.b)(["SET_USER","SET_TOKEN"]),{tab:function(t){this.flag=t},errorMsg:function(t){var e=this;this.msg=t.text,setTimeout(function(){e.msg=""},1e3)},_login:function(){var t=this;this.phoneNum?isNaN(this.phoneNum)?this.$vux.toast.show({text:"请输入正确的手机号",type:"warn",position:"bottom"}):11!==this.phoneNum.toString().length?this.$vux.toast.show({text:"请输入11位手机号",type:"warn",position:"bottom"}):this.flag?Object(n.l)(this.phoneNum,this.code).then(function(e){if(1===e.data.state){var o=e.data.data;o&&t.SET_USER(o),e.data.token&&t.SET_TOKEN(e.data.token),t.path?t.$router.push(t.path):t.$router.push("/home")}else t.msg=e.data.message,setTimeout(function(){t.msg=""},6e4)}):this.validateCode?Object(n.m)(this.phoneNum,this.validateCode).then(function(e){e.data.data;if(1===e.data.state){var o=e.data.data;o&&t.SET_USER(o),e.data.token&&t.SET_TOKEN(e.data.token),t.path?t.$router.push(t.path):t.$router.push("/home")}else t.msg=e.data.message,setTimeout(function(){t.msg=""},1e3)}):this.$vux.toast.show({text:"请输入验证码",type:"warn",position:"bottom"}):this.$vux.toast.show({text:"手机号不能为空",type:"warn",position:"bottom"})},register:function(){this.$router.push("/register")},rePassword:function(){this.$router.push("/rePassword")},_wxLogin:function(){var t=this,e=Object(r.d)(window.location.href).code||"";e&&Object(n.v)(e).then(function(e){var o=e.data.data;if(1===e.data.state){if(o.info){var a=o.info;t.SET_USER(a)}o.token&&t.SET_TOKEN(o.token),t.path?t.$router.push(t.path):t.$router.push("/home")}else t.$router.push("/login")})}}),created:function(){this.$route.query.path&&(this.path=this.$route.query.path),document.querySelector("title").innerText="登录",this._wxLogin()}}),c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-page"},[o("h5",{staticClass:"yellow text-center"},[t._v("线  路")]),t._v(" "),o("div",{staticClass:"tab"},[o("a",{staticClass:"static",class:{hover:t.flag},on:{click:function(e){t.tab(!0)}}},[t._v("账号登录")]),o("a",{staticClass:"dynamics",class:{hover:!t.flag},on:{click:function(e){t.tab(!1)}}},[t._v("动态密码登录")])]),t._v(" "),o("div",{staticClass:"login-body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],staticClass:"form-control",attrs:{name:"name",placeholder:"手机号"},domProps:{value:t.phoneNum},on:{input:function(e){e.target.composing||(t.phoneNum=e.target.value)}}}),t._v(" "),o("div",{staticClass:"code-item"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"},{name:"show",rawName:"v-show",value:this.flag,expression:"this.flag"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.validateCode,expression:"validateCode"},{name:"show",rawName:"v-show",value:!this.flag,expression:"!this.flag"}],staticClass:"form-control",attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.validateCode},on:{input:function(e){e.target.composing||(t.validateCode=e.target.value)}}}),t._v(" "),o("code-item",{directives:[{name:"show",rawName:"v-show",value:!this.flag,expression:"!this.flag"}],attrs:{phoneNum:t.phoneNum,isCodeDeynamicLogin:!0},on:{errorMsg:t.errorMsg}})],1),t._v(" "),o("a",{on:{click:function(e){return e.stopPropagation(),t.rePassword(e)}}},[t._v("忘记密码 ?")])]),t._v(" "),o("p",{staticClass:"msg"},[t._v(t._s(t.msg))]),t._v(" "),o("div",{staticClass:"login-btn"},[o("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t._login(e)}}},[t._v("登录")]),t._v(" "),o("button",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.register(e)}}},[t._v("注册")])])])},staticRenderFns:[]};var d=o("Z0/y")(h,c,!1,function(t){o("ypW0")},null,null);e.default=d.exports},ypW0:function(t,e){}});
//# sourceMappingURL=11.30664bbaf3e5067aa403.js.map