webpackJsonp([7],{Styu:function(t,e){},YvZN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});Array;var n={name:"TimeLine",props:{itemList:{type:Array}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timeline"},[a("div",{staticClass:"timeline-line"},t._l(t.itemList,function(e){return a("div",{staticClass:"timeline-post turqoise-post"},[a("div",{staticClass:"timeline-icon icon-dot-full"},[a("div",{staticClass:"icon-placeholder white text-center"},[t._v(t._s(e.icon))])]),t._v(" "),a("div",{staticClass:"timeline-content"},[a("div",{staticClass:"yellow"},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"font-12"},[t._v(t._s(e.theTime))])])])}))])},staticRenderFns:[]};var s=a("Z0/y")(n,i,!1,function(t){a("aSjX")},"data-v-8e83b32c",null).exports,o=(a("Vmam"),a("1h8J")),r=a("mTUd"),c=a("MVMM"),l=a("wSez");c.default.component(s.name,s),c.default.component(r.a.name,r.a),c.default.component(l.Popup.name,l.Popup);c.default.component(s.name,s),c.default.component(r.a.name,r.a),c.default.component(l.Popup.name,l.Popup);var d={name:"OrderDetails",data:function(){return{popupVisiblePayWays:!1,selected:"theme",orderStateCfg:{1:{name:"待支付",state:1,icon:"￥",options:[{btn:"取消订单",fun:this.cancel,btnStyle:""},{btn:"去支付",fun:this.payOrder,btnStyle:"btn-yellow"}]},2:{name:"待确认",state:2,options:[{btn:"取消订单",fun:this.cancel},{btn:"催Ta",fun:this.cancel,btnStyle:"btn-yellow"}]},3:{name:"待消费",state:3,options:[{btn:"申请退款",fun:this.cancel}]},4:{name:"待评价",state:4,options:[{btn:"联系客服",fun:this.cancel},{btn:"再次购买",fun:this.cancel},{btn:"去评价",fun:this.cancel,btnStyle:"btn-yellow"}]},5:{name:"已完成",state:5,options:[{btn:"联系客服",fun:this.cancel},{btn:"再次购买",fun:this.cancel}]},6:{name:"退款申请",state:6,options:[{btn:"联系客服",fun:this.cancel},{btn:"再次购买",fun:this.cancel}]},7:{name:"退款中",state:7,options:[{btn:"联系客服",fun:this.cancel},{btn:"再次购买",fun:this.cancel}]},8:{name:"退款成功",state:8,options:[{btn:"联系客服",fun:this.cancel},{btn:"再次购买",fun:this.cancel}]},9:{name:"已取消（商家）",state:11},10:{name:"已取消（用户）",state:11},11:{name:"已取消（系统）",state:11}},timeList:[],order:{orderDetailInfoVo:{skuName:"还是一个很好的产品",productSubTitle:"游乐园",productName:"温江国色天香",image:"http://www.daxi51.com/ssm_file/upfile/image/2018323/1521791427594.jpg",adultNumber:1,childNumber:0,status:0},id:"8a1eb434-88b9-41f5-a8f7-bd0fb28b4337",orderNo:"20180331412370008",sellerName:"成都中山俱乐部温江店",orderMoney:180,actualMoney:180,payState:1,payMode:0,orderState:11,orderTime:"2018-03-31 13:30:41",tripTime:"2018-04-02",contactPerson:"cxy",contactPhone:"12333333333",orderStatusInfo:[{orderState:1,createTime:"2018-03-31 13:30:42"}]}}},methods:{goBack:function(){this.$router.push("/list")},closePopup:function(){this.popupVisiblePayWays=!1},payOrder:function(t,e){this.orderNo=t,this.orderMoney=e+"",this.popupVisiblePayWays=!0},cancel:function(t){var e=this;Object(o.b)(this.$store.state.lineUser.id,t).then(function(t){e.MessageBox("提示",t.data.message),t&&1===t.data.state&&e.getData()})},getData:function(){var t=this;this.$store.state.lineUser.id&&Object(o.e)(this.$store.state.lineUser.id,this.orderNo).then(function(e){if(1===e.data.state){t.order=e.data.data;var a=e.data.data.orderStatusInfo;t.timeList=a.map(function(e){return{content:t.orderStateCfg[e.orderState].name,theTime:e.createTime,icon:t.orderStateCfg[e.orderState].icon}}),t.timeList.push({content:"订单提交成功",theTime:t.order.orderTime,icon:"√"})}else t.MessageBox("错误",e.data.message)})}},created:function(){this.$route.query.id&&(this.orderNo=this.$route.query.id,this.getData())}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"mint-header is-fixed"},[a("div",{staticClass:"mint-header-button is-left"},[a("div",{},[a("button",{staticClass:"mint-button mint-button--default mint-button--normal",on:{click:t.goBack}},[t._m(0),t._v(" "),a("label",{staticClass:"mint-button-text"})])])]),t._v(" "),a("h1",{staticClass:"mint-header-title"},[t._v("订单详情")]),t._v(" "),a("div",{staticClass:"mint-header-button is-right"})]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content-cell m-0 p-0"},[a("div",{staticClass:"float-right m-2"},t._l(t.orderStateCfg[t.order.orderState].options,function(e){return a("button",{staticClass:"btn btn-sm mr-2 btn-default",class:e.btnStyle,on:{click:function(a){e.fun(t.order.orderNo,t.order.orderMoney)}}},[t._v(t._s(e.btn)+"\n        ")])})),t._v(" "),a("TimeLine",{attrs:{"item-list":t.timeList}})],1),t._v(" "),a("div",{staticClass:"content-cell"},[a("div",{staticClass:"cell-title"},[t._v("订单信息")]),t._v(" "),a("div",{staticClass:"cell-body"},[a("div",[t._v("订单号： "+t._s(t.order.orderNo))]),t._v(" "),a("div",[t._v("下单时间： "+t._s(t.order.orderTime))]),t._v(" "),a("div",[t._v("支付方式： 微信支付")]),t._v(" "),a("div",[t._v("订单金额： ￥"+t._s(t.order.orderMoney))])])]),t._v(" "),a("div",{staticClass:"content-cell"},[a("div",{staticClass:"cell-title"},[t._v("预订信息")]),t._v(" "),a("div",{staticClass:"cell-body"},[a("div",[t._v("  "+t._s(t.order.orderDetailInfoVo.productName))]),t._v(" "),a("div",[t._v("  "+t._s(t.order.orderDetailInfoVo.productSubTitle))]),t._v(" "),a("div",[t._v("出行方案： "+t._s(t.order.orderDetailInfoVo.skuName))]),t._v(" "),a("div",[t._v("出行时间： "+t._s(t.order.tripTime))]),t._v(" "),a("div",[t._v("出行人数： "+t._s(t.order.orderDetailInfoVo.adultNumber)+"成人 "+t._s(t.order.orderDetailInfoVo.childNumber)+"儿童")])])]),t._v(" "),a("div",{staticClass:"content-cell"},[a("div",{staticClass:"cell-title"},[t._v("联系人")]),t._v(" "),a("div",{staticClass:"cell-body"},[a("div",[t._v("姓名： "+t._s(t.order.contactPerson))]),t._v(" "),a("div",[t._v("手机号： "+t._s(t.order.contactPhone))])])])]),t._v(" "),a("mt-popup",{staticClass:"popup-pay",attrs:{position:"bottom"},model:{value:t.popupVisiblePayWays,callback:function(e){t.popupVisiblePayWays=e},expression:"popupVisiblePayWays"}},[a("PayCom",{attrs:{orderNo:t.order.orderNo,orderMoney:t.order.orderMoney}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"mint-button-icon"},[e("i",{staticClass:"mintui mintui-back"})])}]};var m=a("Z0/y")(d,u,!1,function(t){a("Styu")},"data-v-1f4dad3a",null);e.default=m.exports},aSjX:function(t,e){}});
//# sourceMappingURL=7.73fa0e6164e7008df98e.js.map